<!DOCTYPE html>
<html lang="en">

<head>
    <title>ACME® Corporation Stores</title>
    <meta charset="UTF-8"/>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <link rel="stylesheet" href="index.css"/>
    <link rel="icon" type="image/png" href="https://cdn2.iconfinder.com/data/icons/random-set-1/448/Asset_94-512.png"/>
</head>

<body>
<section id="stores-app">
    <header>
        <h1>ACME® Corporation Stores</h1>
    </header>
    <section class="main">
        <div>
            <button :disabled="currentPage <= 1" @click="previousPage">◀</button>
            <label class="page">Page {{ currentPage}}</label>
            <button @click="nextPage">▶</button>
            <input class="name-search" placeholder="Search store by name" v-model="nameSearch"/>
        </div>
        <table class="styled-table">
            <thead>
            <tr>
                <td>Name</td>
                <td>Type</td>
                <td>Opening date</td>
            </tr>
            </thead>
            <tbody>
            <tr :class="{ 'active-row': store.id === currentStore?.id }" :key="store.id"
                @click="currentStore = store"
                v-for="store in stores">
                <td>{{ store.name }}</td>
                <td>{{ store.type }}</td>
                <td>{{ store.openingDate }}</td>
            </tr>
            </tbody>
        </table>
        <div>
            <button :disabled="currentPage <= 1" @click="previousPage">◀</button>
            <label class="page">Page {{ currentPage}}</label>
            <button @click="nextPage">▶</button>
        </div>
    </section>

    <section class="detail" v-if="currentStore !== null">
        <h2>{{ currentStore.name }}</h2>
        <span class="store-type">{{ currentStore.type }}</span>
        <label>Id.: <span>{{ currentStore.id }}</span></label>
        <label>Code: <span>{{ currentStore.code }}</span></label>
        <label>Opening date: <span>{{ currentStore.openingDate }}</span></label>
        <label v-for="(value, key) in currentStore.extraFields">
            {{ key }}: <span>{{ value }}</span>
        </label>
        <label>Seasons: <span>{{ currentStore.seasons.join(", ")}}</span></label>
        <small>{{ currentStore.description }}</small>
    </section>
</section>

<script src="index.js"></script>
</body>

</html>